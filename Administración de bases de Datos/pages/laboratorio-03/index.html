
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Administaricón de Almacenamiento y usuarios</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid="Google Analytics ID"
                  id="laboratorio-03"
                  title="Administaricón de Almacenamiento y usuarios"
                  environment="web"
                  feedback-link="A link where users can go to provide feedback (Maybe the git repo)">
    
      <google-codelab-step label="Objetivos" duration="1">
        <ul>
<li>Administrar el almacenamiento de Oracle a través Tablespace y Datafiles.</li>
<li>Conocer como es la sintaxis de la creación de un usuario y perfiles.</li>
<li>Aprender los diferentes tipos de roles para los usuarios.</li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Herramientas" duration="1">
        <p>Para esta práctica se hará uso de estas herramientas:</p>
<h2 is-upgraded>Oracle DB 19c</h2>
<p class="image-container"><img alt="imagen" src="img\\867ffd5b4c6cd21a.png"></p>
<p>Oracle Database es un sistema de gestión de base de datos de tipo objeto-relacional (ORDBMS, por el acrónimo en inglés de Object-Relational Data Base Management System), desarrollado por Oracle Corporation. Oracle Database 19c es la versión actual a largo plazo, que además proporciona el nivel más alto de estabilidad de la versión y el plazo más largo para asistencia y corrección de errores.</p>
<h2 is-upgraded>SQL Developer</h2>
<p><img alt="sql" src="img\\1985c13c83b1faed.png"> Es una interfaz gráfica de usuario gratuita que permite a los usuarios y administradores de bases de datos realizar sus tareas con menos clicks y pulsaciones de teclas. SQL Developer es una herramienta de productividad cuyo objetivo principal es ayudar al usuario final a ahorrar tiempo y maximizar el retorno de la inversión en el paquete de tecnología de Oracle Database.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Introducción" duration="1">
        <p>En esta guía se dará a conocer las diferencias entre un tablespaces y datafiles, al igual que como se administran cada uno de ellos, como puede ser crearlos, cambiar sus parámetros y eliminarlos. Al igual aprenderemos como crear usuarios, a crear roles que estos mismos usuarios pueden tener y crear perfiles, y como podemos dejarles ciertos permisos dependiendo de las tareas que deben realizar.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Administración de almacenamiento" duration="5">
        <ul>
<li>Una base de datos Oracle consiste en uno o más unidades de almacenamiento lógico llamados tablespaces, estos tablespaces son los que guardan todos los datos de la base de datos.</li>
<li>Cada tablespaces en una base de datos Oracle consiste en uno o más archivos llamados datafiles, los cuales son la estructura física de los tablespaces.</li>
<li>Los datos son guardados en datafiles que constituyen cada tablespace de la base   de datos, por ejemplo, la base de datos más simple podría tener como mínimo un tablespace y un datafiles.</li>
</ul>
<p class="image-container"><img alt="tablespace" src="img\\389f98f4f0191738.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Tablespace" duration="30">
        <p class="image-container"><img style="width: 500.00px" src="img\\2de55f678a66293.png"></p>
<p>Una base de datos está formada por una o varias unidades lógicas llamadas Tablespaces. Un tablespace es la unidad de almacenamiento lógico. Además, cada una de estos Tablespaces está formada por uno o varios ficheros físicos que son los datafiles. Un datafile solamente puede pertenecer a un tablespace. Por lo tanto, los datafiles de una base de datos son todos los datafiles que forman parte de todos los tablespaces de la base. Cuando se crea una base de datos, hay que crear al menos un tablespace, por lo que durante el proceso de creación de la base de datos siempre se indica el tablespace principal de ésta, que se llama SYSTEM.</p>
<p><em>Propiedades:</em></p>
<ul>
<li>Localización de los ficheros de datos.</li>
<li>Especificación de máximas cuotas de consumo de disco.</li>
<li>Backup de datos.</li>
</ul>
<p>Cuando un objeto se crea dentro de un cierto Tablespace, este objeto adquiere todas las propiedades antes descritas del Tablespace utilizado.</p>
<p><em>Características:</em></p>
<ul>
<li>Debe estar asociado a un Datafiles.</li>
<li>Un Tablespace está asociado a uno o varios Datafiles y puede tener uno o ovarios usuarios.</li>
</ul>
<h2 is-upgraded>5.1 Creación de Tablespace</h2>
<p>Una de las tareas habituales en la administración de una base de datos Oracle es la de crear un nuevo Tablespace para contener nuevos objetos, La sentencia CREATE TABLESPACE sirve para crear un tablespace en una base de datos Oracle. Recordemos que los Tablespaces permanentes contienen objetos, tablas, índices, etc. de uno o más esquemas. Los objetos en los tablespaces permanentes se almacenan en archivos de datos, datafiles.</p>
<p><strong>Ejemplo 1.1</strong></p>
<pre><code>    CREATE TABLESPACE tablespace1
    DATAFILE &#39;C:/datafile_tb1.dbf&#39; SIZE 10M;
</code></pre>
<h2 is-upgraded>5.2 SQL Developer</h2>
<p>Podemos crear tablespaces donde el/los datafiles se vayan extendiendo de forma automática, si lo creamos de esta manera debemos tener cuidado en no olvidar la cláusula MAXSIZE, ya que si la omitimos el datafile se extenderá hasta llenar el filesystem donde esté creado.</p>
<p><strong>Ejemplo 1.2</strong></p>
<pre><code>  CREATE TABLESPACE tablespace2
    DATAFILE &#39;C:/datafile_tb2.dbf&#39; SIZE 5M
    AUTOEXTEND ON NEXT 1M MAXSIZE 20M;
</code></pre>
<h3 is-upgraded>Ejercicio 1</h3>
<p>Crear un tablespace auto expandible llamado TB_&lt;Carnet&gt;	 (sustituir &#34;&lt;Carnet&gt;&#34; por su número de carnet), asignar un datafile de 8 megabytes y que será guardado en el disco C. El tamaño máximo será de 36 Megabytes con extensiones de 4 Megabytes.</p>
<h2 is-upgraded>5.3 SQL Developer</h2>
<p>Para cambiar el tamaño de un tablespace tenemos dos posibles opciones:</p>
<ul>
<li>Modificar el tamaño de un datafile.</li>
<li>Agregar un nuevo datafile.</li>
</ul>
<p><strong>Ejemplo 1.3. agregando nuevos datafiles.</strong></p>
<p>Ahora modificaremos el tablespace creado en el Ejercicio 1. Antes de modificarlo es recomendable ver cuántos datafiles conforman el tablespace, y que tamaño tienen, para en base a esta información, añadir uno nuevo, siguiendo el estándar de nombres, y el tamaño apropiado.</p>
<p>A continuación, se presenta la forma de ver la información de los datafiles del tablespace.</p>
<pre><code>  SELECT * FROM DBA_TABLESPACES;
  SELECT * FROM DBA_DATA_FILES;
</code></pre>
<p>Si ejecutamos este SELECT con el tablespace llamado &#34;tablespace2&#34; veremos la siguiente información:</p>
<p class="image-container"><img style="width: 350.00px" src="img\\d8e75b9f3c76079b.png"></p>
<p>Lo que nos indica que este tablespace posee un solo datafile de 5 MB de tamaño. A continuación, agregamos un nuevo datafile.</p>
<pre><code>  ALTER TABLESPACE tablespace2
   ADD DATAFILE &#39;C:/datafile_tb2_2.dbf&#39; SIZE 5M AUTOEXTEND OFF;
</code></pre>
<h3 is-upgraded>Ejercicio 2</h3>
<p>Añadir un nuevo datafile al tablespace creado en el ejercicio 1. El tamaño será 10 Megabytes y será almacenado en el disco C:.</p>
<p>Mostrando la información de tablespace2 nuevamente:</p>
<p class="image-container"><img style="width: 350.00px" src="img\\b07d4d9744f11224.png"></p>
<p><strong>Ejemplo 1.4 modificando un datafile.</strong></p>
<p>También podemos modificar un datafile existente.</p>
<pre><code>  ALTER DATABASE DATAFILE &#39;C:/datafile_tb2_2.dbf&#39; RESIZE 10M;
</code></pre>
<p>Mostrando la información de tablespace2 nuevamente:</p>
<p class="image-container"><img style="width: 400.00px" src="img\\e2e942c84e1f1a2.png"></p>
<h3 is-upgraded>Ejercicio 3</h3>
<p>Redimensionar el segundo datafile creado a 16 Megabytes.</p>
<h2 is-upgraded>5.4. SQL Developer</h2>
<p>Primero debemos asegurarnos de que el contenido de los archivos de datos no es necesario, o se ha movido a otro tablespace.</p>
<p><strong>Ejemplo 1.5</strong></p>
<p>Borrando el tablespace1 anteriormente creado.</p>
<pre><code>  DROP TABLESPACE tablespace1;
</code></pre>
<p><em>¡La sentencia anterior borra un tablespace, pero NO los datafiles!</em> ahora podemos ir a borrar manualmente el datafile. La siguiente instrucción borra un tablespace incluyendo sus datafiles.</p>
<pre><code>  DROP TABLESPACE tablespace2 INCLUDING CONTENTS AND DATAFILES;
</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Datafiles" duration="0">
        <p>Un datafile es la representación física de un tablespace. Son los &#34;ficheros de datos&#34; donde se almacena la información físicamente. Los tablespaces están formados por datafiles, el crecimiento en el uso de memoria o el modo de gestión determinarán algunas configuraciones en ellos.</p>
<h2 is-upgraded>6.1 Ejemplos de Administración de Datafiles</h2>
<p class="image-container"><img style="width: 650.00px" src="img\\19c256a49cb96405.png"><img style="width: 650.00px" src="img\\87e43db5e8483648.png"></p>
<aside class="special"><p><strong>Nota:</strong></p>
<p>   Los nuevos archivos deben existir antes de poder renombrar, esta sentencia no crea archivos. </p>
</aside>
<h2 is-upgraded>6.2 Limitantes en la creación de datafiles</h2>
<ul>
<li>Los sistemas operativos pueden poner un límite con respecto al número de archivos que un proceso puede abrir simultáneamente. También podría poner límites con respecto al tamaño de los  archivos creados.</li>
<li>Oracle impone un límite máximo de datafiles creados por cualquier base de datos; no se puede exceder del número de datafiles creados por el parámetro de inicialización DB_FILES.</li>
</ul>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/codelab-elements/native-shim.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/prettify.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/codelab-elements.js"></script>
  <script src="//support.google.com/inapp/api.js"></script>

</body>
</html>
